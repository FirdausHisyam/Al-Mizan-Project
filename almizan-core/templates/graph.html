{% extends "base.html" %}

{% block content %}
<style>
    .graph-wrapper {
        position: relative;
        width: 100%;
        height: calc(100vh - 100px);
        background: var(--bg-gradient);
    }
    #graph-container {
        width: 100%;
        height: 100%;
        background: var(--bg-void);
        border-radius: 8px;
    }
    #graph-container svg {
        width: 100%;
        height: 100%;
    }
    .node text {
        fill: var(--text-primary);
        font-size: 12px;
    }
    .controls-overlay {
        position: absolute;
        top: 1rem;
        right: 1rem;
        background: var(--bg-panel);
        padding: 1rem;
        border: var(--border-glass);
        border-radius: 8px;
        z-index: 10;
        backdrop-filter: blur(10px);
    }
    .controls-overlay h3 {
        margin: 0 0 1rem 0;
        color: var(--accent-gold);
    }
    .filter-group label {
        display: block;
        margin: 0.5rem 0;
        color: var(--text-muted);
    }
    .search-bar input {
        width: 100%;
        padding: 0.5rem;
        margin-top: 1rem;
        border-radius: 4px;
        border: var(--border-glass);
        background: var(--bg-card);
        color: var(--text-primary);
    }
</style>

<div class="graph-wrapper">
    <div id="graph-container"></div>
    
    <div class="controls-overlay">
        <h3>Graph Explorer</h3>
        <div class="filter-group">
            <label><input type="checkbox" checked> Quran (Thabit)</label>
            <label><input type="checkbox" checked> Hadith (Thabit)</label>
            <label><input type="checkbox" checked> Rulings (Zanni)</label>
        </div>
        <div class="search-bar">
            <input type="text" placeholder="Search Node ID..." id="search-input">
        </div>
    </div>
</div>

<!-- D3.js Library -->
<script src="https://d3js.org/d3.v7.min.js"></script>
<!-- Graph Visualization (v2 = API fetch) -->
<script src="/static/js/graph.js?v=2"></script>
{% endblock %}
